{"version":3,"file":"static/js/617.e4292b2a.chunk.js","mappings":"kRAEaA,EAAOC,EAAAA,GAAAA,KAAH,iEAMJC,EAAQD,EAAAA,GAAAA,MAAH,gUAkBLE,EAASF,EAAAA,GAAAA,OAAH,4U,SCPnB,EAhBkB,SAAC,GAA4C,IAA1CG,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cACxC,OACE,UAACN,EAAD,CAAMO,SAAUH,EAAhB,WACE,SAACF,EAAD,CACAM,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,YAAY,eACZN,MAAOA,EACPO,SAAU,SAAAC,GAAK,OAAIP,EAAcO,EAAMC,OAAOT,MAA/B,KAEf,SAACF,EAAD,CAAQK,KAAK,SAAb,SAAsB,aAG3B,E,oBCdYO,EAAOd,EAAAA,GAAAA,GAAH,6CAIJe,EAAOf,EAAAA,GAAAA,GAAH,oGAOJgB,GAAWhB,EAAAA,EAAAA,IAAOiB,EAAAA,GAAPjB,CAAH,uECOrB,EAhBkB,SAAC,GAAgB,IAAdkB,EAAa,EAAbA,OACbC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAACN,EAAD,UACGI,EAAOG,KAAI,SAAAC,GAAK,OACf,SAACP,EAAD,WACE,SAACC,EAAD,CAAUO,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAMP,GAA5C,SACGG,EAAMK,SAFAL,EAAME,GADF,KAStB,E,oBCyED,EApFe,WAAO,IAAD,EACnB,GAAwCI,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoCL,EAAAA,EAAAA,UAAS,IAA7C,eAAOM,EAAP,KAAmB7B,EAAnB,KACM8B,EAAK,UAAGH,EAAaI,IAAI,gBAApB,QAAgC,GAC3C,GAAwBR,EAAAA,EAAAA,WAAS,GAAjC,eAAOS,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAK,mCAAG,yFACE,KAAVL,EADQ,wDAIZG,GAAQ,GAJI,mBAMeG,EAAAA,EAAAA,GAAY,2GAAD,OACyEN,EADzE,gCAN1B,OAMJO,EANI,OAYY,KAFhBxB,EAASwB,EAAWC,SAEfC,QACTC,EAAAA,GAAAA,MAAA,2CAAgDV,EAAhD,gBAGFL,EAAgBZ,GAChBb,EAAc,IAjBJ,kDAmBVyC,QAAQC,IAAR,MAnBU,yBAqBVT,GAAQ,GArBE,6EAAH,qDAyBXE,GACD,GAAE,CAACL,IAeJ,OACE,iCACE,gCACE,4BACE,SAAC,EAAD,CACEhC,aAlBW,SAAAS,GAGnB,GAFAA,EAAMoC,iBAEoB,KAAtBd,EAAWe,OAAf,CAIA,IAAMC,EAAkBtC,EAAMC,OAAOsC,SAAShB,MAAM/B,MAAMgD,cAG1DnB,EADiB,KAAfC,EAAoB,CAAEC,MAAOe,GAAoB,CAAC,EAHnD,MAFCL,EAAAA,GAAAA,MAAY,2BAOf,EAQSzC,MAAO8B,EACP7B,cAAeA,KAEjB,SAAC,EAAD,CAAWa,OAAQW,OAEpBQ,IACC,SAAC,KAAD,CACEgB,YAAY,oBACZC,YAAY,IACZC,kBAAkB,OAClBC,MAAM,KACNC,SAAS,QAIf,SAAC,KAAD,CACEC,SAAS,YACTC,cAAc,EACdC,aAAc,CACZC,MAAO,CACLC,WAAY,oBACZC,MAAO,aAMlB,C,kECxFKtB,EAAW,mCAAG,WAAMuB,GAAN,uFACKC,EAAAA,EAAAA,IAAUD,GADf,cACZE,EADY,yBAGXA,EAASC,MAHE,2CAAH,sDAMjB,K","sources":["components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","pages/Movies.jsx","servises/fetchMovies.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n\n  margin-top: 25px;\n`;\n\nexport const Input = styled.input`\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 1.15;\n  margin: 0;\n\n  line-height: 1.3;\n  color: lightgray;\n  background-color: rgb(10 130 170 / 30%);\n  width: 300px;\n  height: 30px;\n  margin-right: 10px;\n\n  border-radius: 4px;\n  padding: 4px;\n  border-color: lightgray;\n`;\n\nexport const Button = styled.button`\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  background-color: #444;\n  font-size: 18px;\n  font-weight: 500;\n  border: none;\n  color: gray;\n  font-weight: 500;\n  box-shadow: 0 0 5px 3px rgba(11, 127, 171, 0.7);\n  cursor: pointer;\n\n  &:hover {\n    color: lightgray;\n  }\n`;","import PropTypes from 'prop-types';\nimport { Form, Input, Button } from './SearchBar.styled'; \n\nconst SearchBar = ({ handleSubmit, value, setInputValue }) => {\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input \n      type=\"text\"\n      name=\"query\"\n      autoComplete=\"off\"\n      placeholder=\"Search movie\"\n      value={value}\n      onChange={event => setInputValue(event.target.value)}        \n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n};\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  setInputValue: PropTypes.func.isRequired,\n};","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  margin-top: 20px;\n`;\n\nexport const Item = styled.li`\n  margin-left: 12px;\n  &:not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const FilmLink = styled(Link)`\n  color: lightgrey;\n  text-decoration: none;\n`;","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { List, Item, FilmLink } from './MovieList.styled';\n\n \nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <List>\n      {movies.map(movie => (\n        <Item key={movie.id}>\n          <FilmLink to={`${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </FilmLink>\n        </Item>\n      ))}\n    </List>\n  )\n};\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport fetchMovies from 'servises/fetchMovies';\nimport MovieList from 'components/MovieList/MovieList';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { RotatingLines } from 'react-loader-spinner';\n\nconst Movies = () => {\n  const [moviesSearch, setMoviesSearch] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [inputValue, setInputValue] = useState('');\n  const query = searchParams.get('query') ?? '';\n  const [load, setLoad] = useState(false);\n\n  useEffect(() => {\n    const fetch = async () => {\n      if (query === '') {\n        return;\n      }\n      setLoad(true);\n      try {\n        const dataMovies = await fetchMovies(\n          `https://api.themoviedb.org/3/search/movie?api_key=9218a8fe57d9a10810e7b861ea45534f&language=en-US&query=${query}&page=1&include_adult=false`\n        );\n\n        const movies = dataMovies.results;\n\n        if (movies.length === 0) {\n          toast.error(`Sorry, the movies you requested: ${query} not found.`);\n        }\n\n        setMoviesSearch(movies);\n        setInputValue('');\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoad(false);\n      }\n    };\n\n    fetch();\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputValue.trim() === '') {\n      toast.error('Fill in the search field');\n      return;\n    }\n    const normalizedValue = event.target.elements.query.value.toLowerCase();\n    const nextSearchParams =\n      inputValue !== '' ? { query: normalizedValue } : {};\n    setSearchParams(nextSearchParams);\n  };\n\n  return (\n    <>\n      <section>\n        <div>\n          <SearchBar\n            handleSubmit={handleSubmit}\n            value={inputValue}\n            setInputValue={setInputValue}\n          />\n          <MovieList movies={moviesSearch} />\n        </div>\n        {load && (\n          <RotatingLines\n            strokeColor=\"rgb(11, 127, 171)\"\n            strokeWidth=\"5\"\n            animationDuration=\"0.75\"\n            width=\"96\"\n            visible={true}\n          />\n        )}\n      </section>\n      <Toaster\n        position=\"top-right\"\n        reverseOrder={false}\n        toastOptions={{\n          style: {\n            background: 'rgb(11, 127, 171)',\n            color: '#fff',\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst fetchMovies = async url => {\n  const response = await axios.get(url);\n\n  return response.data;\n};\n\nexport default fetchMovies;\n"],"names":["Form","styled","Input","Button","handleSubmit","value","setInputValue","onSubmit","type","name","autoComplete","placeholder","onChange","event","target","List","Item","FilmLink","Link","movies","location","useLocation","map","movie","to","id","state","from","title","useState","moviesSearch","setMoviesSearch","useSearchParams","searchParams","setSearchParams","inputValue","query","get","load","setLoad","useEffect","fetch","fetchMovies","dataMovies","results","length","toast","console","log","preventDefault","trim","normalizedValue","elements","toLowerCase","strokeColor","strokeWidth","animationDuration","width","visible","position","reverseOrder","toastOptions","style","background","color","url","axios","response","data"],"sourceRoot":""}